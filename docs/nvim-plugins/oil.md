# oil.nvim

ファイルシステムを普通の Neovim バッファとして編集できるファイルエクスプローラー。

設定ファイル: `config/nvim/lua/plugins/oil.lua`

---

## クイックリファレンス

| キー | 説明 |
|---|---|
| `-` | 親ディレクトリを開く（どこからでも使える） |
| `<leader>e` | ファイルエクスプローラーを開く |
| `<CR>` | カーソル下のファイル/ディレクトリを開く |
| `<C-p>` | 右側にプレビューを開く |
| `<Esc>` | oil を閉じて元のバッファに戻る |
| `g.` | 隠しファイルの表示/非表示を切り替え |
| `:w` | バッファの変更を保存してファイル操作を実行 |
| `?` | キーマップ一覧を表示 |

---

## 詳細

### ナビゲーション

- `-` — 親ディレクトリへ移動
- `<CR>` — ファイルを開く / ディレクトリに入る
- `_` — Neovim の cwd を開く
- `` ` `` — `:cd` でカレントディレクトリを変更
- `~` — タブスコープでカレントディレクトリを変更
- `gh` — Git ルートディレクトリへジャンプ
- `gd` — dotfiles ディレクトリへジャンプ
- `gu` — ホームディレクトリへジャンプ

### ファイルを開く

- `<CR>` — カレントウィンドウで開く
- `<C-s>` — 垂直スプリットで開く
- `<C-h>` — 水平スプリットで開く
- `<C-t>` — 新しいタブで開く
- `<C-p>` — 右側プレビューで開く

### ファイル操作

- バッファ上でそのまま編集（rename / 削除 / 移動）
- `:w` — 変更を保存して実行（削除確認あり）
- `<C-l>` — ディレクトリ一覧をリフレッシュ

### パスのコピー

- `y` — フルパスをコピー
- `Y` — ファイル名のみコピー

### 表示・ソート

- `g.` — 隠しファイルの表示/非表示を切り替え
- `gs` — ソート順を対話的に変更
- `g\` — ゴミ箱ディレクトリへ移動/戻る

### 外部連携

- `gx` — 外部プログラムで開く
- `<C-f>` — Telescope でカレントディレクトリのファイル検索
- `<C-g>` — Telescope でカレントディレクトリ内を grep
- `go` — Neo-tree で開く

### コマンド

- `:Oil` — カレントファイルの親ディレクトリを開く
- `:Oil {path}` — 指定ディレクトリを開く
- `:Oil --float` — フローティングウィンドウで開く

---

## 使い方

### ファイルのリネーム・移動

1. `-` または `<leader>e` で oil を開く
2. バッファ上でファイル名や行を直接編集（通常の Neovim 編集操作）
3. `:w` で保存 → 変更が実際のファイルシステムに反映される

### ファイルの削除

1. oil バッファでファイル行を削除（`dd`）
2. `:w` で保存 → 確認プロンプトが表示される
3. 確認すると削除実行（`delete_to_trash = true` なのでゴミ箱に移動）

---

## 注意事項

- lazy loading は非推奨（設定で `lazy = false` にしてある）
- `:w` は oil バッファ専用の保存で、通常のファイル保存とは異なる
- `delete_to_trash = true` のため削除はゴミ箱経由になる
