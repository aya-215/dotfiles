# flash.nvim

検索ラベルと強化された文字モーションで、コード内を素早くナビゲートできるジャンププラグイン

設定ファイル: `config/nvim/lua/plugins/flash.lua`

---

## クイックリファレンス

| キー | モード | 説明 |
|---|---|---|
| `s` | n / x / o | Flash ジャンプ（全ウィンドウ対象） |
| `S` | n / x / o | Treesitter ノードへジャンプ |
| `r` | o | Remote Flash（遠隔位置でオペレータ実行） |
| `R` | o / x | Treesitter 検索 |
| `<C-s>` | c | 通常検索中に Flash を切り替え |

---

## 詳細

### ジャンプ操作

- `s` — 検索文字を入力 → ラベルが表示 → ラベルキーを押してジャンプ
- `S` — Treesitter ノード全体をラベル化してジャンプ
- `r` (operator-pending) — 遠くの場所でオペレータを実行（例: `yr` + ラベルでリモートヤンク）
- `R` (operator-pending / visual) — Treesitter ノードを範囲として検索しジャンプ

### 検索中のキー操作

- `<C-s>` (command mode) — 通常の `/` 検索中に Flash ラベルの表示を切り替え
- `;` / `,` — `f` / `t` モーション後に次・前のマッチへ移動

### f/t モーション強化

`char` モードが有効なため、`f` / `t` / `F` / `T` でも Flash ラベルが表示される。

- 同一行内のみ動作（`multi_line = false`）
- マクロ記録・実行中はラベル非表示

---

## 使い方

### 基本ジャンプフロー

1. `s` を押す
2. ジャンプ先の文字を1〜数文字入力（候補が絞られる）
3. 表示されたラベルキーを押してジャンプ

### オペレータとの組み合わせ

- `ys{ラベル}` — Remote Flash でリモートヤンク
- `d` + `s` → ラベル選択 → 削除
- visual モードで `s` → ラベルで範囲拡張

---

## 注意事項

- `autojump = false` に設定しているため、候補が1つでも必ずラベル確認が必要（誤操作防止）
- `search.mode = "exact"` のため部分一致ではなく完全一致で検索
- `jump.jumplist = true` でジャンプ履歴に追加されるため `<C-o>` で戻れる
