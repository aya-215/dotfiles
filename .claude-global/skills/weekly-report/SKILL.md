---
name: weekly-report
description: 週報生成
allowed-tools: Read, Bash, AskUserQuestion, Write
version: 1.0.0
---

# 週報生成

指定された週の日報を分析し、週報を生成してください。

## 引数

$ARGUMENTS

- 引数なし: 今週（月曜〜今日まで）
- `last`: 先週（前週の月曜〜日曜）
- `YYYY-MM-DD`: 指定日を含む週

## 日報の場所

`~/.nb/daily/YYYY-MM-DD.md`

## 手順

1. 対象週の月曜日〜日曜日の日付を特定（月曜始まり）
2. 該当する日報ファイルを読み込む
3. 日報の内容を分析し、以下の形式で週報を生成
4. 既に存在する`~/.nb/weekly/` ディレクトリに保存
5. ファイル名: `YYYY-MM-DD-weekly.md`（週の開始日=月曜日）

## 週報フォーマット

```markdown
# YYYY/MM/DD週 週報

## サマリー
- 記録日数：X日間
- 主要トピック：
  - [日報から抽出した主要テーマ1]
  - [日報から抽出した主要テーマ2]
  - [日報から抽出した主要テーマ3]

## 重要な活動・決定事項

### #pj/[プロジェクト名]
- [そのプロジェクトに関する活動をまとめる]

（日報の内容に応じてプロジェクトセクションを動的に生成）

### その他
- [分類できない活動]

## 個人開発・環境整備
- [dotfiles、ツール設定など個人的な開発活動]

（Personalセクションの内容がある場合のみ表示）

## 今週の気づき・学び
- [日報の「学んだこと」「メモ」から抽出]

（内容がある場合のみ表示）

## 来週への引き継ぎ
- [未完了タスク、継続事項]

（内容がある場合のみ表示）
```

## 重要なルール

1. **セクションの動的生成**: 日報の内容に基づいてプロジェクトセクションを自動判別
   - portal-chat, PILOT などのキーワードからプロジェクトを識別
   - 内容がないセクションは省略
2. **要約**: 日報の内容をそのまま転記せず、週単位で要約・統合
3. **プロジェクト識別**: Work セクションの内容からプロジェクト名を推測してグルーピング
4. **保存後**: 生成した週報のパスを表示
